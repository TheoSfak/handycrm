# ğŸ—‘ï¸ Database Reset Feature

## Î¤Î¹ ÎµÎ¯Î½Î±Î¹;

ÎˆÎ½Î± ÎµÏÎ³Î±Î»ÎµÎ¯Î¿ Î¼Î·Î´ÎµÎ½Î¹ÏƒÎ¼Î¿Ï Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Ï€Î¿Ï… ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ ÏƒÏ„Î¿Î½ Î´Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î® Î½Î± Î´Î¹Î±Î³ÏÎ¬ÏˆÎµÎ¹ **ÎŸÎ›Î•Î£** Ï„Î¹Ï‚ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ Ï‡ÏÎ·ÏƒÏ„ÏÎ½ (Ï€ÎµÎ»Î¬Ï„ÎµÏ‚, Î­ÏÎ³Î±, Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î± ÎºÏ„Î») ÎºÎ±Î¹ Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹ Î±Ï€ÏŒ Ï„Î·Î½ Î±ÏÏ‡Î®.

## Î Î¿Ï Ï„Î¿ Î²ÏÎ¯ÏƒÎºÏ‰;

**Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ â†’ Î•Ï€Î¹ÎºÎ¯Î½Î´Ï…Î½Î· Î–ÏÎ½Î· â†’ ÎœÎ·Î´ÎµÎ½Î¹ÏƒÎ¼ÏŒÏ‚ Î’Î¬ÏƒÎ·Ï‚**

Î® Î¬Î¼ÎµÏƒÎ±:
```
https://yourdomain.com/settings/reset-data
```

## Î¤Î¹ Î´Î¹Î±Î³ÏÎ¬Ï†ÎµÎ¹;

- âœ… Î ÎµÎ»Î¬Ï„ÎµÏ‚ (customers)
- âœ… ÎˆÏÎ³Î± (projects)
- âœ… Î¤Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î± (invoices)
- âœ… Î ÏÎ¿ÏƒÏ†Î¿ÏÎ­Ï‚ (quotes)
- âœ… Î¡Î±Î½Ï„ÎµÎ²Î¿Ï (appointments)
- âœ… Î¥Î»Î¹ÎºÎ¬ (materials)
- âœ… Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯ÎµÏ‚ (customer_communications)
- âœ… Î‘ÏÏ‡ÎµÎ¯Î± Î­ÏÎ³Ï‰Î½ (project_files)
- âœ… ÎšÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Ï…Î»Î¹ÎºÏÎ½ (material_movements)
- âœ… Tasks Î­ÏÎ³Ï‰Î½ (project_tasks)
- âœ… Items Ï„Î¹Î¼Î¿Î»Î¿Î³Î¯Ï‰Î½ (invoice_items)
- âœ… Items Ï€ÏÎ¿ÏƒÏ†Î¿ÏÏÎ½ (quote_items)
- âœ… Î•Î¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ (notifications)

## Î¤Î¹ Î”Î•Î Î´Î¹Î±Î³ÏÎ¬Ï†ÎµÎ¹;

- âŒ Î§ÏÎ®ÏƒÏ„ÎµÏ‚ (users) - ÎšÏÎ±Ï„Î¬ÎµÎ¹ Ï„Î¿Î½ admin ÎºÎ±Î¹ ÏŒÎ»Î¿Ï…Ï‚ Ï„Î¿Ï…Ï‚ users
- âŒ Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ (settings) - ÎšÏÎ±Ï„Î¬ÎµÎ¹ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ Ï„Î·Ï‚ ÎµÏ„Î±Î¹ÏÎµÎ¯Î±Ï‚

## Î ÏÏ‚ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯;

### 1. Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚
Î— ÏƒÎµÎ»Î¯Î´Î± Î´ÎµÎ¯Ï‡Î½ÎµÎ¹:
- Î ÏŒÏƒÎ¿Î¹ Ï€ÎµÎ»Î¬Ï„ÎµÏ‚ Î¸Î± Î´Î¹Î±Î³ÏÎ±Ï†Î¿ÏÎ½
- Î ÏŒÏƒÎ± Î­ÏÎ³Î± Î¸Î± Î´Î¹Î±Î³ÏÎ±Ï†Î¿ÏÎ½
- Î ÏŒÏƒÎ± Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î± Î¸Î± Î´Î¹Î±Î³ÏÎ±Ï†Î¿ÏÎ½
- Î ÏŒÏƒÎµÏ‚ Ï€ÏÎ¿ÏƒÏ†Î¿ÏÎ­Ï‚ Î¸Î± Î´Î¹Î±Î³ÏÎ±Ï†Î¿ÏÎ½
- Î ÏŒÏƒÎ± ÏÎ±Î½Ï„ÎµÎ²Î¿Ï Î¸Î± Î´Î¹Î±Î³ÏÎ±Ï†Î¿ÏÎ½
- Î ÏŒÏƒÎ± Ï…Î»Î¹ÎºÎ¬ Î¸Î± Î´Î¹Î±Î³ÏÎ±Ï†Î¿ÏÎ½

### 2. Î•Ï€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·
Î“Î¹Î± Î½Î± Ï€ÏÎ¿Ï‡Ï‰ÏÎ®ÏƒÎµÎ¹Ï‚ Ï€ÏÎ­Ï€ÎµÎ¹:
- ÎÎ± Ï€Î»Î·ÎºÏ„ÏÎ¿Î»Î¿Î³Î®ÏƒÎµÎ¹Ï‚: **RESET DATA**
- ÎÎ± Ï€Î±Ï„Î®ÏƒÎµÎ¹Ï‚: "ÎœÎ—Î”Î•ÎÎ™Î£ÎœÎŸÎ£ Î’Î‘Î£Î—Î£"
- ÎÎ± ÎµÏ€Î¹Î²ÎµÎ²Î±Î¹ÏÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿ JavaScript confirm dialog

### 3. Î•ÎºÏ„Î­Î»ÎµÏƒÎ·
Î¤Î¿ ÏƒÏÏƒÏ„Î·Î¼Î±:
- Î”Î¹Î±Î³ÏÎ¬Ï†ÎµÎ¹ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ (Î¼Îµ ÏƒÎµÎ¹ÏÎ¬ Ï€Î¿Ï… ÏƒÎ­Î²ÎµÏ„Î±Î¹ Ï„Î± foreign keys)
- ÎšÎ¬Î½ÎµÎ¹ reset Ï„Î± AUTO_INCREMENT ÏƒÎµ ÏŒÎ»Î¿Ï…Ï‚ Ï„Î¿Ï…Ï‚ Ï€Î¯Î½Î±ÎºÎµÏ‚
- Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ transaction (rollback Î±Î½ Ï€Î¬ÎµÎ¹ ÎºÎ¬Ï„Î¹ ÏƒÏ„ÏÎ±Î²Î¬)

### 4. Î•Ï€Î¹Ï„Ï…Ï‡Î¯Î±
ÎœÎµÏ„Î¬ Ï„Î¿ reset:
- Î•Î¼Ï†Î±Î½Î¯Î¶ÎµÎ¹ Î¼Î®Î½Ï…Î¼Î± ÎµÏ€Î¹Ï„Ï…Ï‡Î¯Î±Ï‚
- Î ÏÎ¿Ï„ÎµÎ¯Î½ÎµÎ¹ ÎµÏ€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ dashboard

## Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î±

### Î ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯ÎµÏ‚:
- âœ… ÎœÏŒÎ½Î¿ admin Î­Ï‡ÎµÎ¹ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·
- âœ… Î‘Ï€Î±Î¹Ï„ÎµÎ¯ Î±ÎºÏÎ¹Î²Î® ÎºÏ‰Î´Î¹ÎºÏŒ ÎµÏ€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ·Ï‚
- âœ… JavaScript confirmation dialog
- âœ… Transaction-based (rollback on error)
- âœ… Î ÏÎ¿ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ ÏƒÎµ ÎºÎ¬Î¸Îµ Î²Î®Î¼Î±

### Î£Ï…Î¼Î²Î¿Ï…Î»Î®:
**Î Î‘ÎÎ¤Î‘ ÎºÎ¬Î½Îµ backup Ï„Î·Ï‚ Î²Î¬ÏƒÎ·Ï‚ Ï€ÏÎ¹Î½ Ï„Î¿ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚!**

## Î ÏŒÏ„Îµ Î½Î± Ï„Î¿ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ‰;

### ÎšÎ±Ï„Î¬Î»Î»Î·Î»ÎµÏ‚ Ï€ÎµÏÎ¹Ï€Ï„ÏÏƒÎµÎ¹Ï‚:
- ğŸ§ª ÎœÎµÏ„Î¬ Î±Ï€ÏŒ testing Î¼Îµ demo data
- ğŸ”„ ÎŒÏ„Î±Î½ Î¸Î­Î»ÎµÎ¹Ï‚ Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ Ï„Î·Î½ Î±ÏÏ‡Î®
- ğŸ“ ÎœÎµÏ„Î¬ Î±Ï€ÏŒ ÎµÎºÏ€Î±Î¯Î´ÎµÏ…ÏƒÎ· Ï‡ÏÎ·ÏƒÏ„ÏÎ½
- ğŸ§¹ Spring cleaning Ï„Î·Ï‚ Î²Î¬ÏƒÎ·Ï‚

### ÎœÎ— Ï„Î¿ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ Î±Î½:
- âŒ ÎˆÏ‡ÎµÎ¹Ï‚ production data Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏƒÎ±Î¹
- âŒ Î”ÎµÎ½ Î­Ï‡ÎµÎ¹Ï‚ ÎºÎ¬Î½ÎµÎ¹ backup
- âŒ Î”ÎµÎ½ ÎµÎ¯ÏƒÎ±Î¹ 100% ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Ï‚

## Î¤ÎµÏ‡Î½Î¹ÎºÎ¬ Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬

### Files:
```
views/settings/reset-data.php    - UI page
controllers/SettingsController.php - resetData() method
index.php                         - Route: /settings/reset-data
```

### Database Operations:
```sql
DELETE FROM invoice_items;
DELETE FROM invoices;
DELETE FROM quote_items;
DELETE FROM quotes;
DELETE FROM project_files;
DELETE FROM material_movements;
DELETE FROM project_tasks;
DELETE FROM projects;
DELETE FROM appointments;
DELETE FROM customer_communications;
DELETE FROM customers;
DELETE FROM materials;
DELETE FROM notifications;

ALTER TABLE [table] AUTO_INCREMENT = 1;
```

### Transaction Safety:
```php
$conn->beginTransaction();
try {
    // Delete all data
    $conn->commit();
} catch (Exception $e) {
    $conn->rollBack();
}
```

## UI/UX

### Î§ÏÏÎ¼Î±Ï„Î±:
- ğŸ”´ ÎšÏŒÎºÎºÎ¹Î½Î¿ Î³Î¹Î± danger zone
- ğŸŸ¡ ÎšÎ¯Ï„ÏÎ¹Î½Î¿ Î³Î¹Î± warnings
- ğŸ”µ ÎœÏ€Î»Îµ Î³Î¹Î± info
- ğŸŸ¢ Î ÏÎ¬ÏƒÎ¹Î½Î¿ Î³Î¹Î± success

### Feedback:
- Î•Î¼Ï†Î±Î½Î¯Î¶ÎµÎ¹ counts Ï€ÏÎ¹Î½ Ï„Î· Î´Î¹Î±Î³ÏÎ±Ï†Î®
- Live feedback ÏƒÏ„Î¿ input field (Ï€ÏÎ¬ÏƒÎ¹Î½Î¿ ÏŒÏ„Î±Î½ ÏƒÏ‰ÏƒÏ„ÏŒ)
- Alert messages Î¼ÎµÏ„Î¬ Ï„Î·Î½ ÎµÎ½Î­ÏÎ³ÎµÎ¹Î±

## Changelog

**v1.0.0** - Initial Implementation
- Reset all user data tables
- Keep users and settings
- Admin-only access
- Confirmation system
- Transaction safety
- Beautiful UI with warnings

---

**Author:** Theodore Sfakianakis  
**Email:** theodore.sfakianakis@gmail.com  
**Date:** October 9, 2025
