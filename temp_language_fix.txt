<?php
// Language selector JS - to be added to settings page
?>
<script>
function changeLanguage(languageCode) {
    // Show loading
    const select = document.getElementById('languageSelect');
    select.disabled = true;
    
    // Send AJAX request
    fetch('<?= BASE_URL ?>/settings/change-language', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: 'language=' + languageCode + '&redirect=/settings'
    })
    .then(response => {
        // Reload page to see changes
        window.location.reload();
    })
    .catch(error => {
        console.error('Error:', error);
        select.disabled = false;
        alert('Error changing language');
    });
}
</script>
